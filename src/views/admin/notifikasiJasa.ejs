<!DOCTYPE html> 
<html lang="id"> 
<head> 
  <meta charset="UTF-8" /> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0" /> 
  <title>Dashboard Admin - Kirim Notifikasi</title> 
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
  <style>
    body {
      font-family: 'Poppins', sans-serif;
    }
    /* BAGIAN YANG DITAMBAHKAN 1: Style untuk animasi notifikasi menghilang */
    .fade-out {
      transition: opacity 0.5s ease-out;
      opacity: 0;
    }
  </style>
</head> 
<body class="font-sans bg-[#f5f5f5] flex min-h-screen"> 
  <!-- Sidebar --> 
  <div class="w-[200px] bg-[#8b9b7a] text-white py-5"> 
    <div class="px-5 flex items-center text-2xl font-bold mb-4"> 
      <span class="mr-2">‚ñ∑</span>Dashboard 
    </div> 
    <ul class="list-none"> 
      <li class="px-5 py-3 hover:bg-white/10 cursor-pointer">Dashboard</li> 
      <li class="px-5 py-3 bg-white/20 cursor-pointer">Manajemen Alat dan jasa</li> 
      <li class="px-5 py-3 hover:bg-white/10 cursor-pointer">Verifikasi peminjaman</li> 
      <li class="px-5 py-3 hover:bg-white/10 cursor-pointer">Pesanan</li> 
      <li class="px-5 py-3 hover:bg-white/10 cursor-pointer">Feedback</li> 
    </ul> 
  </div> 

  <!-- Main Content --> 
  <div class="flex-1 flex flex-col"> 
    <!-- Header --> 
    <div class="bg-white px-8 py-4 flex justify-end items-center border-b border-gray-300"> 
      <div class="flex items-center gap-4"> 
        <div class="w-9 h-9 bg-gray-300 rounded-full flex items-center justify-center">üë§</div> 
        <span>Admin</span> 
        <div class="w-9 h-9 bg-gray-300 rounded-full flex items-center justify-center">üë§</div> 
      </div> 
    </div> 

    <!-- Content --> 
    <main class="flex-1 flex flex-col relative"> 
      <!-- BAGIAN YANG DITAMBAHKAN 2: HTML untuk elemen pop-up notifikasi -->
      <% if (typeof query !== 'undefined' && query.kirim === 'success') { %>
        <div id="success-popup" class="fixed top-5 right-5 bg-green-500 text-white py-2 px-4 rounded-lg shadow-lg z-50">
          Notifikasi berhasil dikirim!
        </div>
      <% } %>

      <div class="bg-white px-8 py-4 flex justify-end items-center border-b border-gray-300"> 
      </div> 

      <form action="/admin/notifikasi/kirim" method="POST" class="p-8"> 
        
        <div class="mb-6"> 
            <label for="jenis_jasa" class="block mb-2 font-medium text-gray-800">Jenis jasa</label> 
            <select id="jenis_jasa" name="jenis_jasa" required class="w-full p-3 border border-gray-300 rounded text-sm bg-white"> 
                <option value="">-- Pilih jenis jasa --</option> 
                <% if (typeof jasa !== 'undefined' && jasa.length > 0) { %> 
                    <% jasa.forEach(itemJasa => { %> 
                        <option value="<%= itemJasa.nama %>"><%= itemJasa.nama %></option> 
                    <% }) %> 
                <% } %> 
            </select> 
        </div> 

        <div class="flex mb-6 gap-6 items-start"> 
            <div class="flex-1"> 
              <label for="penerima_email" class="block mb-2 font-medium text-gray-800">Penerima notifikasi</label> 
              <select id="penerima_email" name="penerima_email" required class="w-full p-3 border border-gray-300 rounded text-sm bg-white"> 
                  <option value="">-- Pilih Pengguna --</option> 
                  <% if (typeof users !== 'undefined' && users.length > 0) { %> 
                      <% users.forEach(user => { %> 
                          <option value="<%= user.email %>"><%= user.email %></option> 
                      <% }) %> 
                  <% } %> 
              </select> 
            </div> 
        </div> 

        <div> 
            <label for="pesan" class="block text-sm font-medium text-gray-700">Pesan notifikasi</label> 
            <textarea id="pesan" name="pesan" rows="4" placeholder="Tuliskan pesan yang akan dikirim ke pengguna" required class="mt-1 block w-full p-3 border border-gray-300 rounded-md shadow-sm"></textarea> 
        </div> 

        <div class="mb-6"> 
            <label for="tanggal_tersedia" class="block mb-2 font-medium text-gray-800">Tanggal tersedia</label> 
            <input type="date" id="tanggal_tersedia" name="tanggal_tersedia" placeholder="mm/dd/yyyy" required class="w-full p-3 border border-gray-300 rounded text-sm bg-[#d4c5a9]" /> 
        </div> 

        <div class="mb-6">  
            <label for="judul" class="block mb-2 font-medium text-gray-800">Judul notifikasi</label> 
            <input type="text" id="judul" name="judul" placeholder="Contoh: Jasa inventaris tidak tersedia 2 hari" required class="w-full p-3 border border-gray-300 rounded text-sm bg-[#d4c5a9]" /> 
        </div> 
        
        <button type="submit" class="block mx-auto mt-8 px-8 py-3 rounded-full border-2 border-gray-800 text-gray-800 hover:bg-gray-800 hover:text-white transition text-lg"> 
            Kirim 
        </button> 

      </form> 
    </main>

    <!-- Footer --> 
    <div class="bg-[#4a4a4a] text-white px-10 py-8 flex justify-between items-center mt-auto"> 
      <div> 
        <h3 class="text-lg font-semibold mb-2">Universal Multimedia Creative</h3> 
        <p class="text-sm">JIPMA Lt.1</p> 
        <p class="text-sm">Universitas Andalas</p> 
        <p class="text-sm">rira.dharini2021.com</p> 
        <p class="text-sm">081367303057</p> 
      </div> 
      <div class="flex gap-4"> 
        <a href="#" class="w-10 h-10 bg-gray-600 rounded-full flex items-center justify-center hover:bg-[#8b9b7a] transition">üì∫</a> 
        <a href="#" class="w-10 h-10 bg-gray-600 rounded-full flex items-center justify-center hover:bg-[#8b9b7a] transition">f</a> 
        <a href="#" class="w-10 h-10 bg-gray-600 rounded-full flex items-center justify-center hover:bg-[#8b9b7a] transition">üê¶</a> 
        <a href="#" class="w-10 h-10 bg-gray-600 rounded-full flex items-center justify-center hover:bg-[#8b9b7a] transition">üì∑</a> 
      </div> 
    </div> 
  </div> 

  <!-- BAGIAN YANG DITAMBAHKAN 3: JavaScript untuk mengontrol pop-up -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Kode ini akan mencari elemen pop-up di halaman
      const successPopup = document.getElementById('success-popup');

      // Jika elemen pop-up ditemukan...
      if (successPopup) {
        // ...maka akan diatur timer untuk menghilangkannya setelah 3 detik.
        setTimeout(() => {
          // Pertama, tambahkan kelas 'fade-out' untuk memulai animasi menghilang
          successPopup.classList.add('fade-out');
          
          // Setelah animasi selesai, sembunyikan elemen sepenuhnya
          setTimeout(() => {
            successPopup.style.display = 'none';
          }, 500); // 500ms adalah durasi animasi di CSS
        }, 3000); // 3000ms = 3 detik
      }
    });
  </script>
</body> 
</html>
